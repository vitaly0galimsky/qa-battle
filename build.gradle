plugins {
    id 'java'
}

group 'ru.qapropeller'

repositories {
    mavenCentral()
}

dependencies {
    compile group: 'com.codeborne', name: 'selenide', version: '5.5.1'
    compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'
    testCompile group: 'org.testng', name: 'testng', version: '6.14.3'
    testCompile group: 'io.cucumber', name: 'cucumber-java', version: '4.7.4'
    testCompile group: 'io.cucumber', name: 'cucumber-picocontainer', version: '4.7.4'
}

task cucumber(type: JavaExec, dependsOn: testClasses) {
    main = "cucumber.api.cli.Main"
    classpath += files(configurations.testRuntime.files, sourceSets.test.output.getFiles(), sourceSets.main.output.getFiles())
    args += ['--tags', '~@ignore',
             '--plugin', 'json:cucumber/cucumber-report.json',
             '--plugin', 'pretty',
             '--monochrome',
             '--glue', 'ru.qapropeller.steps',
             'src/test/resources/features']
}
